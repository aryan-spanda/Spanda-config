# =============================================================================
# SPANDA AI PLATFORM - TENANT CONFIGURATION
# =============================================================================
# This is the master list of all tenants on the Spanda AI Platform.
# To add a new tenant, simply add their configuration here and run:
# ./scripts/onboard-tenants.sh
# =============================================================================

# TODO -ADD GPU QUOTA âœ… DONE
tenants:
  # Test Application Tenant (new version to avoid namespace conflict)
  - name: "test-application-2" # namespace name
    git_org: "aryan-spanda"
    description: "New test application tenant for testing the factory"
    cpu_quota: "30"
    memory_quota: "60Gi"
    storage_quota: "150Gi"
    gpu_quota: "2"
    environments: ["dev", "staging", "production"]
    modules:
      - name: "traditional-bi-baremetal"
        version: "1.0.0"
        description: "Traditional BI stack (PostgreSQL, MySQL, Superset)"
        values:
          superset:
            admin_user: "test-app-admin"
            custom_config: "test-application-specific"
      - name: "security-vault"
        version: "1.2.0"
        description: "HashiCorp Vault secret management"
        values:
          vault:
            ui_enabled: true
            tenant_specific_policies: true
      - name: "monitoring-prometheus"
        version: "1.1.0"
        description: "Prometheus monitoring stack with Grafana"
        values:
          prometheus:
            retention: "30d"
            tenant_dashboards: true
          grafana:
            custom_dashboards:
              - "test-application-metrics"
              - "test-application-business-kpis"

  # Example Startup Tenant
  - name: "example-startup"
    git_org: "aryan-spanda"
    description: "Small startup with basic resource needs"
    cpu_quota: "20"
    memory_quota: "40Gi"
    storage_quota: "100Gi"
    gpu_quota: "1"
    environments: ["dev", "staging", "production"]
    modules: []  # No additional modules for this tenant
  # - name: "new-client"
  #   git_org: "new-client-org"
  #   description: "Description of the new client"
  #   cpu_quota: "10"
  #   memory_quota: "20Gi"
  #   storage_quota: "50Gi"
  #   environments: ["dev", "staging", "production"]

# =============================================================================
# TENANT DISCOVERY SETTINGS
# =============================================================================
# The onboarding script can also discover tenants from application repositories
# by scanning platform-requirements.yml files from application-sources.txt
discovery:
  enabled: true
  scan_application_repos: true
  default_quotas:
    cpu_quota: "15"
    memory_quota: "30Gi"
    storage_quota: "75Gi"
    gpu_quota: "0"
